<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=0.85, user-scalable=no" charset="UTF-8">

    <title>电商网站Demo - 商城</title>
    <script src="js/jquery-1.8.3.min.js"></script>
    <link href="css/e-commerce.css" rel="stylesheet">
</head>
<body>
<div class="top">

    <div class="top_banner">
        <div class="center">
            <h1><a href="#">DEMO商城</a></h1>
            <ul>
                <a href="index.html"><li>主页</li></a>
                <li>聚划算</li>
                <li>电器城</li>
                <li>中国智造</li>
                <li>智能生活</li>
                <li>苏宁易购</li>
            </ul>
        </div>
    </div>



</div>


<div class="category">
    <div class="center">
        <ul>
            <li>全部商品分类</li>
            <li>影视</li>
            <li>音乐</li>
            <li>游戏</li>
            <li>科技</li>
        </ul>
    </div>
</div>


<div class="menu_set">
    <div class="carousel-main">
        <div class="carousel">
            <div class="slide">
                <a href="#" rel="1"><img src="res/img_cslide1.jpg"/></a>
                <a href="#" rel="2"><img src="res/img_cslide2.jpg"/></a>
                <a href="#" rel="3"><img src="res/img_cslide3.webp"/></a>
            </div>
            <div class="pager">
                <a href="#" rel="1">1</a>
                <a href="#" rel="2">2</a>
                <a href="#" rel="3">3</a>
            </div>
        </div>
    </div>
    <div class="menu_middle">
        <div class="menu_left">
            <ul>
                <li><span>电脑配件</span>
                    <div class='menu_hover'>
                        <h3>电脑配件</h3>
                        <p>
                            电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件，电脑配件</p>
                    </div>
                </li>
                <li><span>电脑产品</span></li>
                <li><span>手机数码</span></li>
                <li><span>3C周边</span></li>
                <li><span>大型电器</span></li>
            </ul>
        </div>


    </div>




</div>


</div>
</body>
<script>
    function addContent(MAX) {
        // 自动为类似<li><span>福袋</span></li>的标签添加详细内容
        var target = $('.menu_left').children().children();
        target.not(target.eq(0)).each(function (i) {
            $(this).children().first().after($('.menu_hover')[0].outerHTML);

            var title = $(this).children().first().html();
            $(this).find('h3').html(title);

            var placehoder = '';
            for (var i = 0; i < MAX; i++) {
                placehoder += title + '， '
            }
            $(this).find('p').html(placehoder);
        });
    }

    addContent(50);

    $('.menu_left li').mouseenter(function () {
        /*x = $(this).position().left + $(this).outerWidth();
        y = $(this).position().top;
        $(this).find('.menu_hover').css({'top': y + 'px', 'left': x + 'px'}).show();*/

        $(this).find('.menu_hover').stop(false, false).show(100);
        $('.menu_hover').not($(this).find('.menu_hover')).hide();
    });

    $('.menu_left li').mouseleave(function () {
        $(this).find('.menu_hover').stop(false, false).hide(100);
    });



    $('h1').css({'opacity': 0});
    $('h1').fadeTo(1000, 1);

    $('.pager a').first().addClass('active');
    idx = 1;
    switchTo();

    var count = $('.slide a').size();

    function switchTo() {
        var slideObj = $('.slide a[rel=' + idx + ']');
        slideObj.appendTo('.slide');
        slideObj.css({'opacity': 0});
        slideObj.fadeTo(1000, 1);

        $('.pager a').removeClass('active');
        $('.pager a[rel=' + idx + ']').addClass('active');
    }

    runSwitch = function () {
        play = setInterval(function () {
            if (idx < count) {
                idx++
            } else {
                idx = 1;
            }
            switchTo();
        }, 3500)
    };
    runSwitch();

    $('.slide a').hover(
        function () {
            clearInterval(play);
        },
        function () {
            runSwitch();
        }
    );

    $('.pager a').click(function () {

        clearInterval(play);
        idx = $(this).attr('rel');
        switchTo();
        runSwitch();
        return false;
    });

</script>
</html>